---
title: '[카프카] 파이썬(Python)과 카프카(Kafka)'
description: 
categories:
 - Data Engineering
tags: [카프카, 데이터 엔지니어링, 카프카]
---

카프카 프로그래밍을 본격적으로 하기 전 카프카 패키지를 설치할 것이다
주키퍼나 카프카 브로커가 돌고 있을 때 그것을 서버라고 볼 수 있고
여러가지 클라이언트가 존재할 수 있다.
각각의 프로듀서와 컨슈머를 만들 수 있다.
파이썬 클라이언트도 존재한다.
카프카 파이선 클라이언트를 다운받아 볼 것이다.

pip install kafka-python

위와 같은 명령어로 설치한다.

python

import kafka
kafka

카프카 컨슈머와 프로듀서를 파이썬으로 생성해볼 것이다.

```py
# producer.py

from kafka import KafkaProducer # 카프카 패키지

producer = KafkaProducer(bootstrap_servers = ['localhost:9092']) # 프로듀서를 인스턴스화 하여 생성

# 토픽 이름을 넣어서 전송
producer.send('first-topic', b'hello world from python') # 메세지를 보낼 때 byte로 보내는 것을 장려
producer.flush()
```

- 새로운 파이썬 파일을 만들어 위와 같이 코드를 작성하고 실행한다.
- `ImportError: No module named kafka`가 지속적으로 발생하여, `conda install -c conda-forge kafka-python`을 이용해 설치하니 성공적으로 실행되었다.
- 메세지를 받는 컨슈머를 생성한다.